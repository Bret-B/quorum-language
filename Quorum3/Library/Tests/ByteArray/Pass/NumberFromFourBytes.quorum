use Libraries.System.File
use Libraries.Containers.ByteArray
use Libraries.System.BinaryFileReader
use Libraries.Interface.Events.FileLoadListener
use Libraries.Interface.Events.FileLoadEvent
//use Libraries.Containers.Support.ByteReader

class Main is FileLoadListener
    action Main
        File file
        file = file:GetParentDirectory():GetParentDirectory()
        file:SetPath("Library/Tests/ByteArray/HourOfCode.png")
        BinaryFileReader reader
        reader:OpenForRead(file)
    end

    action OnLoad(FileLoadEvent event)
        ByteArray value = event:GetBinaryFileReader():ReadBytes()
        integer byte = value:Get(0)
        output byte
        integer byte2 = value:Get(1)
        output byte2
        integer byte3 = value:Get(2)
        output byte3
        integer byte4 = value:Get(3)
        output byte4
        number num = value:NumberFromFourBytes(byte, byte2, byte3, byte4)
        output num
    end
end