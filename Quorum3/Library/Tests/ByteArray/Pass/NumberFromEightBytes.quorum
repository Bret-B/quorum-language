use Libraries.System.File
use Libraries.Containers.ByteArray
use Libraries.System.BinaryFileReader
use Libraries.Interface.Events.FileLoadListener
use Libraries.Interface.Events.FileLoadEvent
use Libraries.Containers.Support.ByteReader

class Main is FileLoadListener
    action Main
        File file
        file = file:GetParentDirectory():GetParentDirectory()
        file:SetPath("Library/Tests/ByteArray/HourOfCode.png")
        BinaryFileReader reader
        reader:OpenForRead(file)
    end

    action OnLoad(FileLoadEvent event)
        ByteArray value = event:GetBinaryFileReader():ReadBytes()
        integer byte = value:Get(0)
        output byte
        integer byte2 = value:Get(1)
        output byte2
        integer byte3 = value:Get(2)
        output byte3
        integer byte4 = value:Get(3)
        output byte4
        integer byte5 = value:Get(4)
        output byte5
        integer byte6 = value:Get(5)
        output byte6
        integer byte7 = value:Get(6)
        output byte7
        integer byte8 = value:Get(7)
        output byte8
        number num = value:NumberFromEightBytes(byte, byte2, byte3, byte4, byte5, byte6, byte7, byte8)
        output num
    end
end