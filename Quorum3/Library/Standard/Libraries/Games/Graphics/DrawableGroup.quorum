package Libraries.Games.Graphics

use Libraries.Games.Interface.Item
use Libraries.Containers.List
use Libraries.Containers.Blueprints.Iterator

class DrawableGroup is Item
    List<Drawable> drawables

    private number offsetX = 0
    private number offsetY = 0
    private boolean recalculateOffsets = false

    action GetDrawables returns List<Drawable>
        if offsetX not= GetX() or offsetY not= GetY() or recalculateOffsets
            Iterator<Drawable> temp = drawables:GetIterator()
            Drawable drawable = undefined
            repeat while temp:HasNext()
                drawable = temp:Next()
                drawable:SetOffset(GetX(), GetY())
            end
            offsetX = GetX()
            offsetY = GetY()
        end
        return drawables
    end

    action Add(Drawable drawable)
        drawables:Add(drawable)
        recalculateOffsets = true
    end

    action Remove(Drawable drawable)
        drawables:Remove(drawable)
    end
end