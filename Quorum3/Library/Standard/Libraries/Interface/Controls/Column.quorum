package Libraries.Interface.Controls
use Libraries.Containers.Array
use Libraries.Interface.Layouts.FlowLayout
use Libraries.Interface.Layouts.LayoutProperties

class Column is Control
    Array<Cell> cells
    boolean hasHeader = true

    on create
        FlowLayout layout
        SetLayout(layout)

        LayoutProperties properties = GetDefaultLayoutProperties()
        properties:SetHorizontalLayoutMode(properties:STANDARD)
        properties:SetVerticalLayoutMode(properties:FIT_CONTENTS)

        properties:SetPixelWidth(100)
    end

    action Add(Cell cell)
        cells:Add(cell)

        parent:Item2D:Add(cell)
    end

    action Add(integer position, Cell cell)
        cells:Add(position, cell)

        parent:Item2D:Add(cell)
    end

    action GetCell(integer i) returns Cell
        return cells:Get(i)
    end

    action RemoveCell(Cell cell)
        cells:Remove(cell)
        parent:Item2D:Remove(cell)
    end

    action RemoveColumnAt(integer column)
        Cell c = cells:RemoveAt(column)
        parent:Item2D:Remove(c)
    end

    action GetColumnsSize returns integer
        return cells:GetSize()
    end

    action IsCellsEmpty returns boolean
        return cells:IsEmpty()
    end

    action Empty 
        cells:Empty()
        parent:Item2D:Empty()
    end
end