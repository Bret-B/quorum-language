package Libraries.Game.Scenes

use Libraries.Game.Game
use Libraries.Data.Formats.JavaScriptObjectNotation
use Libraries.Containers.Number32BitArray

class SceneManager 
    
    blueprint action Load(Scene scene)

    blueprint action Save(Game game) returns Scene

    private action ConvertToNumber32BitArray(JavaScriptObjectNotation json) returns Number32BitArray
        Number32BitArray array
        array:SetSize(json:GetSize())

        i = 0
        repeat while i < json:GetSize()
            JavaScriptObjectNotation value = json:Get(i)
            number num = 0
            if value:IsInteger()
                num = value:GetInteger()
            elseif value:IsNumber()
                num = value:GetNumber()
            end

            array:Set(i, num)
            i = i + 1
        end
        
        return array
    end

end