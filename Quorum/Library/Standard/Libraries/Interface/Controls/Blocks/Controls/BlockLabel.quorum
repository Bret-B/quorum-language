package Libraries.Interface.Controls.Blocks.Controls

use Libraries.Game.Graphics.Label
use Libraries.Game.Graphics.ColorGroup
use Libraries.Interface.Options.BlockOptionConstants
use Libraries.Interface.Controls.Blocks.Block

class BlockLabel is Label, BlockItem
    
    integer relativeLineIndex = 0

    BlockOptionConstants constants

    on create
        SetPositionOnBaseLine(false)
    end

    action GetFontColor returns ColorGroup
        if HasColorPropertyOverride("fontColor")
            return parent:Control:GetFontColor()
        end

        Block block = GetBlock()
        if block not= undefined
            return block:GetColorProperty(constants:STATIC_FONT_COLOR)
        else
            return parent:Control:GetColorProperty(constants:STATIC_FONT_COLOR)
        end
    end

    // By default, all BlockItems are a single line in length.
    action GetLineCount returns integer
        return 1
    end

    /*
    This action returns a line index, relative to the start of the block
    this item is attached to. For example, if this returns 0, this item
    is on the same line as where the block starts. If this returns 2, this
    item appears 2 lines below the starting line of the block.
    */
    action GetRelativeLineIndex returns integer
        return relativeLineIndex
    end
    
    action SetRelativeLineIndex(integer relativeLineIndex)
        me:relativeLineIndex = relativeLineIndex
    end

end