package Libraries.Interface.Options
use Libraries.Game.Graphics.Color
use Libraries.Game.Graphics.ColorGroup

class DarkBlockOptions is DarkModeOptions, BlockOptions
    constant number MAX = 255.0
    BlockOptionConstants constants

    Color color
    Color defaultStatementColor = color:CustomColor(76.0 / MAX, 151.0 / MAX, 255.0 / MAX, 1)
    Color classBlock = color:CustomColor(89.0 / MAX, 192.0 / MAX, 89.0 / MAX, 1)
    Color actionBlock = color:CustomColor(89.0 / MAX, 192.0 / MAX, 89.0 / MAX, 1)

    Color assignmentBlock = color:CustomColor(234.0 / MAX, 131.0 / MAX, 24.0 / MAX, 1)

    Color ifBlock = color:CustomColor(255.0 / MAX, 171.0 / MAX, 25.0 / MAX, 1)
    Color repeatBlock = color:CustomColor(255.0 / MAX, 171.0 / MAX, 25.0 / MAX, 1)
    Color checkBlock = color:CustomColor(255.0 / MAX, 171.0 / MAX, 25.0 / MAX, 1)

    Color alertBlock = color:CustomColor(255.0 / MAX, 102.0 / MAX, 128.0 / MAX, 1)

    Color packageBlock = color:CustomColor(153.0 / MAX, 102.0 / MAX, 255.0 / MAX, 1)
    Color constructorBlock = color:CustomColor(153.0 / MAX, 102.0 / MAX, 255.0 / MAX, 1)
    Color sayBlock = color:CustomColor(92.0 / MAX, 177.0 / MAX, 214.0 / MAX, 1)
    Color useBlock = color:CustomColor(92.0 / MAX, 177.0 / MAX, 214.0 / MAX, 1)
    Color comments = color:CustomColor(175.0 / MAX, 186.0 / MAX, 255.0 / MAX, 1)
    Color freeformBlock = color:CustomColor(240.0 / MAX, 240.0 / MAX, 240.0 / MAX, 1)
    
    Color returnBlock = color:CustomColor(92.0 / MAX, 177.0 / MAX, 214.0 / MAX, 1)
    Color editFieldBackground = color:CustomColor(43.0 / MAX, 43.0 / MAX, 43.0 / MAX, 1)

    action SetStartingOptions
        SetBackgroundColor(constants:ASSIGNMENT_KEY, defaultStatementColor)
        SetBackgroundColor(constants:OUTPUT_KEY, defaultStatementColor)
        SetBackgroundColor(constants:SAY_KEY, defaultStatementColor)
        SetBackgroundColor(constants:RETURN_KEY, defaultStatementColor)
        SetBackgroundColor(constants:USE_KEY, defaultStatementColor)
        SetBackgroundColor(constants:PACKAGE_KEY, packageBlock)
        SetBackgroundColor(constants:ALERT_KEY, alertBlock)
        SetBackgroundColor(constants:CHECK_KEY, checkBlock)
        SetBackgroundColor(constants:ACTION_CALL_KEY, defaultStatementColor)
        SetBackgroundColor(constants:REPEAT_KEY, repeatBlock)
        SetBackgroundColor(constants:ACTION_KEY, actionBlock)
        SetBackgroundColor(constants:CONSTRUCTOR_KEY, constructorBlock)
        SetBackgroundColor(constants:CLASS_KEY, packageBlock)
        SetBackgroundColor(constants:IF_KEY, ifBlock)
        SetBackgroundColor(constants:FREEFORM_KEY, freeformBlock)
        SetBackgroundColor(constants:COMMENT_KEY, freeformBlock)

        SetEditBackgroundColor(editFieldBackground)
        SetEditBorderThickness(1)
        SetEditFontColor(color:White())
        SetStaticFontColor(color:White())
        SetStaticFontOutlineColor(color:Black())
        SetStaticFontOutlineThickness(1.2)
    end

    action SetDefaultBlockOptions(text key)
        parent:BlockOptions:SetDefaultBlockOptions(key)

        ColorGroup background = GetBackgroundColor(key)
        if background not= undefined
            Color color
            color:CopyColor(background:GetBottomLeft())
            color:SetColor(color:GetRed() * 0.7, color:GetGreen() * 0.7, color:GetBlue() * 0.7, color:GetAlpha())
            SetBorderColor(key, color)

            SetSelectionColor(key, color:CustomColor(0.5, 0.75, 0.59, 1))

            Color editColor
            editColor:CopyColor(color)
            SetEditBorderColor(key, editColor)
        end
    end
end