use Libraries.Containers.List
use Libraries.Containers.Array
use Libraries.Compute.Random
use Libraries.Language.Errors.Error
use Libraries.Language.Errors.InvalidLocationError

class MusicalChairs 

    Array<text> myArray
    List<integer> myList
    Random random

    action Names
        check
            repeat 1 times
                myArray:Add(input("enter the name of a player"))
            end
        detect e
            output "Error detected: "// + e:GetErrorMessage()
            repeat 5 times
                text name = input("Enter the name of a player")
                myArray:Add(name)
            end
        end
    end
    
    action RandomList()
        integer value = random:RandomIntegerBetween(1, 5)
        repeat 5 times
            myList:Add(value)
        end
    end

    action Play
        integer first = myList:RemoveAt(0)
        integer second = myList:RemoveAt(1)
        integer third = myList:RemoveAt(2)
        integer fourth = myList:RemoveAt(3)
        
        text name1 = myArray:RemoveAt(first)
        say "The first person to get out was" + name1
        text name2 = myArray:RemoveAt(second)
        say "The second person to get out was" + name2
        text name3 = myArray:RemoveAt(third)
        say "The third person to get out was" + name3
        text name4 = myArray:RemoveAt(fourth)
        say "The fourth person to get out was" + name4
        text winner = myArray:RemoveFromEnd()
        say "The winner is" + winner
    end

    action GetPlayers
        check    
            integer i = 0
            integer count = 0
            repeat while i < 20
                myArray:Get(i)
                i = i + 1
                count = count + 1
            end
        detect e is InvalidLocationError
            output "Error detected" + e:GetErrorMessage()
            /*integer i = 0
            integer count = 0
            //repeat while myArray:Get(i) not= undefined
            repeat while i < 10
                myArray:Get(i)
                i = i + 1
                count = count + 1
            end
            say "There are" + count + "players playing this game."*/
        end
        
    end
end