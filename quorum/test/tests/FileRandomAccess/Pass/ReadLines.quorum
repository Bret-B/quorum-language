use Libraries.System.File
use Libraries.System.FileRandomAccess
use Libraries.Containers.Blueprints.Indexed

class Main
    action Main
        // Read contents of single line file, then multi-line file.
        File f
        f:SetRelativePath("test/tests/FileRandomAccess/Resources/singleLine")

        FileRandomAccess r
        r:OpenForRandomAccess(f)
        Indexed<text> lines = r:ReadLines()
        boolean firstReadOK = lines:Get(0) = "this is a single line"
        r:Close()

        // now multi-line file
        f:SetRelativePath("test/tests/FileRandomAccess/Resources/multipleLines")
        r:OpenForRandomAccess(f)
        lines = r:ReadLines()
        boolean secondReadOK = lines:Get(0) = "line 1" and lines:Get(1) = "line 2" and lines:Get(2) = "line 3" and lines:Get(4) = "line 4" and lines:Get(5) = "..." and lines:Get(6) = "line n"
        r:Close()

        print firstReadOK
        print secondReadOK
        
        // output should be...
        // true
        // true
    end
end