package Libraries.System
use Libraries.System.Blueprints.FileWriterBlueprint
use Libraries.System.File
use Libraries.Containers.Blueprints.Indexed

/*
This class represents a sequential file writer. It is the standard file writer
used in Quorum. By "sequential," we mean that it is possible to only move
forward in the file. Once data has been written to a position, it is impossible
to go backwards in the file and modify it. This is most commonly used for
writing plain text files.

TODO: Example?
*/
class FileWriter is a FileWriterBlueprint
    /*
     * The file we have open. Upon creation, this is "undefined" and won't
     * be set until the user calls one of the "open" methods.
     */
    private File file = undefined

    // TODO: Document
    system action OpenForWrite(File file)

    // TODO: Document
    system action OpenForWriteAppend(File file)

    // TODO: Document
    system action Close()

    // TODO: Document
    system action Write(text textToWrite)

    // TODO: Document
    system action WriteLine(text textToWrite)

    // TODO: Document
    system action PushToDisk()
end